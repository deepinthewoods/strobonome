<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
<style type="text/css">
  body {
    color: purple;
    background-color: #d8da3d }
	
#slidecontainer {
    width: 100%; /* Width of the outside container */
}

/* The slider itself */
.slider {
    -webkit-appearance: none;  /* Override default CSS styles */
    appearance: none;
    width: 100%; /* Full-width */
    height: 25px; /* Specified height */
    background: #d3d3d3; /* Grey background */
    outline: none; /* Remove outline */
    opacity: 0.7; /* Set transparency (for mouse-over effects on hover) */
    -webkit-transition: .2s; /* 0.2 seconds transition on hover */
    transition: opacity .2s;
}

/* The slider handle (use webkit (Chrome, Opera, Safari, Edge) and moz (Firefox) to override default look) */ 
.slider::-webkit-slider-thumb {
    -webkit-appearance: none; /* Override default look */
    appearance: none;
    width: 25px; /* Set a specific slider handle width */
    height: 25px; /* Slider handle height */
    background: #4CAF50; /* Green background */
    cursor: pointer; /* Cursor on hover */
}

.slider::-moz-range-thumb {
    width: 25px; /* Set a specific slider handle width */
    height: 25px; /* Slider handle height */
    background: #4CAF50; /* Green background */
    cursor: pointer; /* Cursor on hover */
}

</style>
  <title>My first styled page</title>
</head>

<body>

<!-- Site navigation menu -->
<ul class="navbar">
  <li><a href="index.html">Home page</a>
  <li><a href="musings.html">Musings</a>
  <li><a href="town.html">My town</a>
  <li><a href="links.html">Links</a>
</ul>

<!-- Main content -->
<h1>My first styled page</h1>

<div id="slidecontainer">
  <input type="range" min="1" max="100" value="50" class="slider" id="myRange">
  <p>Value: <span id="demo"></span></p>
</div>

</body>

<script>
var slider = document.getElementById("myRange");
var output = document.getElementById("demo");
output.innerHTML = slider.value;

slider.oninput = function() {
  output.innerHTML = this.value;
}

var lastUpdate = Date.now();
var myInterval = setInterval(tick, 0);
var bpm = 40;
	var stepSize = 1.5f;
	var accum;
	var step, pattern = 2;
	var timeSig = 4;
	var partial;
	var flashTime = .3f;
	var sigID = 1;
	var PATTERN_NAMES = {"Quick Fade", "Half Fade", "Quick Flash", "Qtr Flash", "Half Flash"};
	var SIG_LABELS = {"3/4", "4/4", "5/4", "7/4"};
	var SIG_VALUES = {3, 4, 5, 7};
	
function tick() {
    var now = Date.now();
    var dt = now - lastUpdate;
    lastUpdate = now;
	document.getElementsByTagName("BODY")[0].style.backgroundColor = "rgb(100, 100, 100)";

    update(dt);
    //render(dt);
}
var accum = 0.0;
function update(var dt){
	accum += dt;
	
		if (accum > stepSize) {
			accum -= stepSize;
			step++;
			partial = 0f;
			if (step >= timeSig ) {
				step = 0;
			}
		}
		partial += dt;
		//setClearColor(pattern);
		//document.getElementsByTagName("BODY")[0].style.backgroundColor = getColor(glClearColor);
		document.getElementsByTagName("BODY")[0].style.backgroundColor = "rgb(100, 100, 100)";

}
var glClearColor = {0, 0, 0, 0};
function getColor(var color){
	return "rgb(" + color[0] + ", " + color[1] + ", " + color[2] + ")";
}
function setClearColor(int patt) {
		switch (patt) {
		case 0://quick fade
			flashTime = .3f;
			if (partial < flashTime ) {
				var a = 1f - partial / flashTime;
				
				if (step == 0)
					glClearColor = {a, 0, 0, 1};
				else 
					glClearColor = {a, a, a, 1};
			} else {
				var a = partial / flashTime;
				a = 0;
				//Gdx.app.log("met",  "alpha " + a);
			glClearColor = a, a, a, 1};
			}
			break;
			
		case 1://half fade
			flashTime = stepSize / 2f;;
			if (partial < flashTime ) {
				var a = partial / flashTime;
				a = a * a * a;
				a = 1f - a;
				if (step == 0)
					glClearColor = {a, 0, 0, 1};
				else 
					glClearColor = {a, a, a, 1};
			} else {
				var a = partial / flashTime;
				a = 0;
				//Gdx.app.log("met",  "alpha " + a);
				glClearColor = {a, a, a, 1};
			}
			break;
		case 2://quick flash
			flashTime = Math.min(.3f, stepSize / 3f);;
			flashTime = 1f/30f;
			if (partial < flashTime ) {
				var a = partial / flashTime;
				a = a * a * a;
				a = 1f;
				if (step == 0)
					glClearColor = {a, 0, 0, 1};
				else 
					glClearColor = {a, a, a, 1};
			} else {
				var a = partial / flashTime;
				a = 0;
				//Gdx.app.log("met",  "alpha " + a);
				glClearColor = {a, a, a, 1};
			}
			break;
		case 3://med flash
			flashTime = stepSize / 4f;;
			if (partial < flashTime ) {
				var a = partial / flashTime;
				a = a * a * a;
				a = 1f;
				if (step == 0)
					glClearColor = {a, 0, 0, 1};
				else 
					glClearColor = {a, a, a, 1};
			} else {
				var a = partial / flashTime;
				a = 0;
				//Gdx.app.log("met",  "alpha " + a);
				glClearColor = {a, a, a, 1};
			}
			break;
		case 4://half flash
			flashTime = stepSize / 2f;;
			if (partial < flashTime ) {
				var a = partial / flashTime;
				a = a * a * a;
				a = 1f;
				if (step == 0)
					glClearColor = {a, 0, 0, 1};
				else 
					glClearColor = {a, a, a, 1};
			} else {
				var a = partial / flashTime;
				a = 0;
				//Gdx.app.log("met",  "alpha " + a);
				glClearColor = {a, a, a, 1};
			}
			break;
		}
		
	}

</script>

</html>